# Token Pool Proxy Configuration

# Proxy listen address
listen: "0.0.0.0:8080"

# Health check server (optional but recommended for k8s/docker)
health_listen: "0.0.0.0:9090"

# Upstream DolphinDB server
upstream:
  host: "dolphindb.example.com"
  port: 8848
  tls: false

# Single credential - will be used to acquire `pool_size` tokens
credential:
  username: "your_username"
  password: "your_password"

# Token pool configuration
token:
  # Number of tokens to acquire (pool size)
  pool_size: 200

  # Token TTL in seconds (default: 3600 = 1 hour)
  # Tokens older than this will be automatically refreshed
  ttl_seconds: 3600

  # How often to check for expired tokens (default: 60 seconds)
  refresh_check_seconds: 60

# Telemetry configuration (optional)
telemetry:
  # OTLP endpoint for Grafana/Tempo/Prometheus
  # otlp_endpoint: "http://localhost:4317"

  # Log filter (e.g., "info", "debug", "tpp=debug")
  log_filter: "info"
